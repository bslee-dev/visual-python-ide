# 보안 가이드

이 문서는 프로젝트의 보안 관련 사항을 설명합니다.

## ✅ 보안 점검 결과

### 안전한 항목

1. **환경 변수 파일**
   - `.env` 파일이 없음
   - `.gitignore`에 환경 변수 파일이 포함되어 있음
   - 하드코딩된 API 키나 비밀번호 없음

2. **개인 정보**
   - 코드에 개인 정보나 민감한 데이터가 포함되어 있지 않음

3. **의존성**
   - 공개된 패키지만 사용 (Next.js, React, Tailwind CSS 등)
   - 알려진 보안 취약점이 있는 패키지 없음

4. **서버 측 코드**
   - 서버 측 API 엔드포인트 없음
   - 데이터베이스 연결 없음
   - 외부 서비스 연동 없음

## ⚠️ 주의사항

### 1. 동적 코드 실행 (`new Function`)

**위치**: `components/VisualPythonIDE.tsx:412`

```typescript
const func = new Function('setWidget', 'getWidget', 'msgBox', 'console', 'alert', cleanCode);
func(setWidget, getWidget, msgBox, customConsole, alert);
```

**설명**: 
- 사용자가 작성한 코드를 실행하기 위해 `new Function`을 사용합니다.
- 이것은 프로젝트의 핵심 기능이지만, 보안 위험이 있습니다.

**위험성**:
- 사용자가 악의적인 코드를 작성할 수 있음
- 브라우저 환경에서만 실행되므로 서버 측 공격은 불가능
- 다른 사용자의 데이터에 접근할 수 없음 (클라이언트 사이드만)

**완화 조치**:
- 코드 실행은 브라우저의 샌드박스 환경에서만 이루어짐
- `setWidget`, `getWidget`, `msgBox` 함수만 제공하여 제한된 API만 사용 가능
- 서버 측 코드 실행 없음

**권장사항**:
- 프로덕션 환경에서 사용 시 사용자에게 코드 실행 위험을 명시
- 필요시 코드 실행을 비활성화하거나 제한할 수 있는 옵션 제공

### 2. 프로젝트 파일 저장/로드

**위치**: `components/VisualPythonIDE.tsx` (saveProject, loadProject)

**설명**:
- 프로젝트는 JSON 형식으로 저장/로드됩니다.
- 사용자가 악의적인 JSON 파일을 업로드할 수 있습니다.

**위험성**:
- JSON 파싱 시 악의적인 데이터가 포함될 수 있음
- 하지만 `JSON.parse`만 사용하므로 코드 실행은 불가능

**완화 조치**:
- `JSON.parse`만 사용하여 코드 실행 불가
- 위젯 데이터만 저장/로드하므로 제한적

**권장사항**:
- 프로젝트 파일 로드 시 데이터 검증 추가 고려

## 🔒 보안 모범 사례

### Git에 커밋하지 말아야 할 항목

다음 항목들은 이미 `.gitignore`에 포함되어 있습니다:

- `.env`, `.env.local`, `.env*.local` - 환경 변수 파일
- `node_modules/` - 의존성 패키지
- `.next/` - Next.js 빌드 파일
- `*.log` - 로그 파일
- IDE 설정 파일 (`.vscode/`, `.idea/`)

### 추가 권장사항

1. **의존성 업데이트**
   ```bash
   npm audit
   npm audit fix
   ```
   정기적으로 의존성의 보안 취약점을 확인하세요.

2. **코드 리뷰**
   - Pull Request 시 보안 관련 코드 리뷰 수행
   - 특히 동적 코드 실행 관련 변경사항 주의

3. **사용자 교육**
   - 사용자에게 코드 실행의 위험성 안내
   - 신뢰할 수 있는 코드만 실행하도록 권장

## 📋 보안 체크리스트

공개 저장소에 푸시하기 전 확인사항:

- [x] 하드코딩된 API 키/비밀번호 없음
- [x] 환경 변수 파일이 `.gitignore`에 포함됨
- [x] 개인 정보 없음
- [x] 민감한 설정 없음
- [x] `.env` 파일이 저장소에 없음
- [x] `node_modules`가 `.gitignore`에 포함됨
- [x] 빌드 파일이 `.gitignore`에 포함됨
- [x] 로그 파일이 `.gitignore`에 포함됨

## 🚨 취약점 신고

보안 취약점을 발견하셨다면, 이슈를 등록하거나 직접 연락해주세요.

## 참고

이 프로젝트는 **클라이언트 사이드 전용** 애플리케이션입니다:
- 서버 측 코드 실행 없음
- 데이터베이스 연결 없음
- 외부 API 호출 없음
- 모든 코드는 브라우저에서만 실행됨

따라서 전통적인 서버 측 보안 위험(예: SQL Injection, 서버 측 코드 실행 등)은 해당되지 않습니다.

